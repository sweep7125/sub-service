# Environment Configuration Example
# Copy this file to .env and update values for your environment

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Secret path for accessing the API (change this to your own random string)
# This is the base path component in URLs like /{SECRET_PATH}/{user}/{format}
SECRET_PATH=your_secret_path_here_change_this

# =============================================================================
# SERVER SETTINGS
# =============================================================================

# Unix socket path for production deployment (used by Waitress)
# SOCK=/run/web-panel/web-panel.sock

# Development server settings
# DEV_HOST=127.0.0.1
# DEV_PORT=5000
# DEV_DEBUG=true

# =============================================================================
# SYSTEMD SERVICE SETTINGS
# =============================================================================

# Python unbuffered output (recommended for systemd integration)
# PYTHONUNBUFFERED=1

# Unix socket path for systemd service (should match sub-stub.service)
# SOCK=/run/sub-stub/sub.stub.sock

# =============================================================================
# PATHS CONFIGURATION
# =============================================================================

# Base directory (defaults to project root if not set)
# BASE_DIR=/opt/web-panel

# Cache directory for geo files and temporary data (for systemd service)
# SUBSTUB_CACHE_DIR=/var/cache/sub-stub

# Configuration files (relative to BASE_DIR or absolute paths)
# SERVERS_FILE=servers
# EXTERNAL_SERVERS_FILE=external-servers
# USERS_FILE=users
# TEMPLATE_FILE=clear-config
# CONFIG_JSON_FILE=config.json
# MIHOMO_FILE=mihomo.yaml
# HAPP_ROUTING_FILE=happ.routing

# =============================================================================
# CACHE SETTINGS
# =============================================================================

# Geo files cache TTL in seconds (default: 600 = 10 minutes)
GEO_CACHE_TTL=600

# File cache enabled (default: true)
# ENABLE_FILE_CACHE=true

# =============================================================================
# PROFILE SETTINGS
# =============================================================================

# Custom HTTP headers sent in responses
# Format: CUSTOM_HEADER_<N>=header_name|header_value[|user_agent_regex]
#
# - header_name: The HTTP header name to send
# - header_value: The value for the header (can contain any characters including colons)
# - user_agent_regex: (Optional) Regex pattern to match User-Agent header
#                     If specified, header is only sent when User-Agent matches
#                     If omitted, header is always sent
#
# Examples:
# Always send profile update interval header:
CUSTOM_HEADER_1=profile-update-interval|24

# Always send profile title header with base64 value (note: colons are preserved):
CUSTOM_HEADER_2=profile-title|base64:VGVzdFRpdGxlRXhhbXBsZQ==

# Send special header only to Happ clients (User-Agent starts with "Happ/"):
# CUSTOM_HEADER_3=x-special-feature|enabled|^Happ/\d+\.\d+\.\d+

# Send custom header only to mobile clients:
# CUSTOM_HEADER_4=x-mobile-config|true|Mobile|Android|iPhone

# =============================================================================
# GEO FILES URLS
# =============================================================================

# Geo files URLs for automatic updates (comma-separated)
# GEO_FILES_URLS=https://raw.githubusercontent.com/sweep7125/rulesets/refs/heads/xray-rulesets/geosite.dat,https://raw.githubusercontent.com/sweep7125/rulesets/refs/heads/xray-rulesets/geoip.dat

# =============================================================================
# LOGGING
# =============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format
# LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# =============================================================================
# ADVANCED SETTINGS
# =============================================================================

# Spider-X generation parameters
# SPIDERX_MIN_LENGTH=10
# SPIDERX_MAX_LENGTH=24

# Flask settings
# FLASK_JSON_SORT_KEYS=false

# Number of worker threads for production server
# WORKER_THREADS=1
